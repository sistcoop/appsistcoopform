<div class="row">
  <div class="col-sm-12">
    <fieldset class="border-top">
      <legend>
        <h3>
          {{view.section.number}}.&nbsp;{{view.section.title}}<small>.&nbsp;{{view.section.description}}</small>
          <div class="btn-group pull-right">
            <button data-ng-if="view.section.id && !view.isEditing" data-ng-click="edit()" type="button" class="btn btn-default" tooltip-placement="bottom" uib-tooltip="Editar"><i class="fa fa-pencil"></i></button>
            <button data-ng-if="view.section.id" data-ng-click="remove()" type="button" class="btn btn-default" tooltip-placement="bottom" uib-tooltip="Eliminar"><i class="fa fa-trash"></i></button>
            <button data-ng-if="!view.section.id" data-ng-click="onClose()" type="button" class="btn btn-default" tooltip-placement="bottom" uib-tooltip="Cerrar"><i class="fa fa-close"></i></button>
          </div>
        </h3>
      </legend>

      <form data-ng-if="view.isEditing || !view.section.id" name="form" class="form-horizontal" novalidate>
        <div class="form-group" data-ng-class="{ 'has-error' : form.number.$invalid && form.$submitted }">
          <label class="col-sm-2 control-label"><span class="required">*</span> Numero:</label>
          <div class="col-sm-3">
            <input type="text" name="number" data-ng-model="view.section.number" ui-number-mask="0" class="form-control" pf-focused="true" autofocus required/>
            <div data-ng-messages="form.number.$error" data-ng-if="form.number.$submitted">
              <div class="has-error" data-ng-message="required">Ingrese numero.</div>
            </div>
          </div>
        </div>
        <div class="form-group" data-ng-class="{ 'has-error' : form.title.$invalid && form.$submitted }">
          <label class="col-sm-2 control-label"><span class="required">*</span> Titulo:</label>
          <div class="col-sm-4">
            <input name="title" type="text" data-ng-model="view.section.title" data-ng-minlength="1" data-ng-maxlength="200" class="form-control" required/>
            <div data-ng-messages="form.title.$error" data-ng-if="form.title.$submitted">
              <div class="has-error" data-ng-message="required">Ingrese titulo.</div>
              <div class="has-error" data-ng-message="minlength">Ingrese titulo.</div>
              <div class="has-error" data-ng-message="maxlength">Maximo 200 caracteres.</div>
            </div>
          </div>
        </div>
        <div class="form-group" data-ng-class="{ 'has-error' : form.description.$invalid && form.$submitted }">
          <label class="col-sm-2 control-label">Descripcion:</label>
          <div class="col-sm-3">
            <textarea name="description" data-ng-model="view.section.description" data-ng-maxlength="200" class="form-control"></textarea>
            <div data-ng-messages="form.description.$error" data-ng-if="form.description.$submitted">
              <div class="has-error" data-ng-message="required">Ingrese Descripcion.</div>
              <div class="has-error" data-ng-message="maxlength">Maximo 200 caracteres.</div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <button sg-save ng-disabled="working">
              <span ng-show="working">Guardando...</span>
              <span ng-hide="working">Guardar</span>
            </button>
            <button data-ng-if="view.isEditing" type="button" class="btn btn-default" data-ng-click="cancel()">Cancelar</button>
          </div>
        </div>
      </form>

      <div data-ng-repeat="item in questions">
        <sc-text-question data-ng-if="item.question === 'TEXT'" sc-form-model="scFormModel" sc-section-model="scSectionModel" sc-question-model="item" on-saved="questionCreated()" on-removed="questionRemoved($index)"></sc-text-question>
      </div>

    </fieldset>
  </div>
</div>

